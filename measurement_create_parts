
CREATE TABLE IF NOT EXISTS data.measurement
(
    id integer NOT NULL DEFAULT nextval('data.measurement_id_seq'::regclass),
    city integer,
    mark timestamp without time zone,
    temperature double precision,
    CONSTRAINT measurement_temperature_check CHECK (temperature >= '-98'::integer::double precision)
) PARTITION BY RANGE (mark);

ALTER TABLE IF EXISTS data.measurement
    OWNER to postgres;
-- Index: idx_measurement_city_mark

-- DROP INDEX IF EXISTS data.idx_measurement_city_mark;

CREATE UNIQUE INDEX IF NOT EXISTS idx_measurement_city_mark
    ON data.measurement USING btree
    (city ASC NULLS LAST, mark ASC NULLS LAST)
;
